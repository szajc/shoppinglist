(this.webpackJsonpshoppinglist=this.webpackJsonpshoppinglist||[]).push([[0],{27:function(e,t,n){},28:function(e,t,n){},32:function(e,t,n){"use strict";n.r(t);var a=n(5),i=n(8),c=n.n(i),r=n(21),o=n.n(r),s=(n(27),n(18)),u=n(17),d=n(13),l=(n(28),n(10)),p=(n(29),n(16)),f=function(e,t){var n=document.getElementById("forToast"),a=document.createElement("div"),i=document.createElement("p");i.innerHTML=e,n.appendChild(a),a.className="toast",a.style.backgroundColor="green"===t?"#7EE884":"#EA3B2D",a.appendChild(i),setTimeout((function(){a.remove()}),3e3)};var h=function(e){var t=Object(i.useState)(""),n=Object(d.a)(t,2),c=n[0],r=n[1],o=Object(i.useRef)();Object(i.useEffect)((function(){o.current.focus()}),[]);var s=function(){if(""===c)return f("polje je prazno!");!function(e){var t={};t[p.a.database().ref("shoppingcart/").push().key]=e,p.a.database().ref("shoppingcart/").update(t)}({item:c,alreadyBought:!1}),r(""),f(c.length>10?"".concat(c.slice(0,10),"... dodan/a"):"".concat(c," dodan/a!"),"green")};return Object(a.jsxs)("div",{className:"inputContainer",children:[Object(a.jsx)("input",{ref:o,value:c,onChange:function(e){return r(e.target.value)},onKeyUp:function(e){e.stopPropagation(),e.preventDefault(),13===e.keyCode&&s()}}),Object(a.jsx)("button",{onClick:s,children:"+"})]})},j=n.p+"static/media/trashWhite.ed34743c.png";var b=function(e){var t=e.data,n=e.deleteItem,c=e.boughtItem;return Object(a.jsx)(i.Fragment,{children:t&&t.map((function(e){return Object(a.jsxs)("div",{className:"item",children:[Object(a.jsx)("div",{className:"singleItem",onClick:function(){return c(e)},children:Object(a.jsx)("p",{style:{textDecoration:e.alreadyBought?"line-through":"none",color:e.alreadyBought?"gray":"#000"},children:e.item})}),Object(a.jsx)("div",{className:"itemIcon",onClick:function(){return n(e.id,e.item)},children:Object(a.jsx)("img",{src:j,alt:""})})]},e.id)}))})},g={apiKey:"AIzaSyB55Du7ygSzib1s1F46YLg_BAlbYBydGOM",authDomain:"shopping-list-31f59.firebaseapp.com",databaseURL:"https://shopping-list-31f59-default-rtdb.europe-west1.firebasedatabase.app",projectId:"shopping-list-31f59",storageBucket:"shopping-list-31f59.appspot.com",messagingSenderId:"802068066307",appId:"1:802068066307:web:592edcb0800f7f6dce1e36",measurementId:"G-8JQ6TF4JF0"};l.a.apps.length?l.a.app():l.a.initializeApp(g);var m=function(){var e=Object(i.useState)([]),t=Object(d.a)(e,2),n=t[0],c=t[1],r=function(){l.a.database().ref("/shoppingcart/").on("value",(function(e){var t=e.val();if(null!==t){var n=Object.keys(t).map((function(e){return{id:e,item:t[e].item,alreadyBought:t[e].alreadyBought}}));c(n.reverse())}}))};return Object(i.useEffect)((function(){return r(),function(){r.cancle()}}),[]),Object(a.jsxs)("div",{className:"mainContainer",id:"forToast",children:[Object(a.jsx)("div",{className:"textContainer",children:Object(a.jsx)("p",{children:"Nakupovalni listek"})}),Object(a.jsx)(h,{}),Object(a.jsx)("div",{className:"dataContainer",children:n&&n.length>0?Object(a.jsx)(b,{data:n,deleteItem:function(e,t){c((function(t){return Object(u.a)(t).filter((function(t){return t.id!==e}))})),l.a.database().ref("shoppingcart/"+e).remove(),f("".concat(t.slice(0,10),"... odstranjen/a"))},boughtItem:function(e){c((function(t){return Object(u.a)(t).map((function(t){return t.id===e.id?Object(s.a)(Object(s.a)({},t),{},{alreadyBought:!e.alreadyBought}):t}))}));var t={item:e.item,alreadyBought:!e.alreadyBought},n={};return n[e.id]=t,l.a.database().ref("shoppingcart/").update(n)}}):Object(a.jsx)("p",{children:"Va\u0161 nakupovalni listek je prazen"})})]})},v=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,33)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),a(e),i(e),c(e),r(e)}))};o.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(m,{})}),document.getElementById("root")),v()}},[[32,1,2]]]);
//# sourceMappingURL=main.8ff725f4.chunk.js.map